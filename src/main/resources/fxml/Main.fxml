<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Accordion?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.CheckBox?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.RadioButton?>
<?import javafx.scene.control.Slider?>
<?import javafx.scene.control.Tab?>
<?import javafx.scene.control.TabPane?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.control.ToggleGroup?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Pane?>
<?import javafx.scene.layout.RowConstraints?>
<?import javafx.scene.layout.VBox?>
<?import org.controlsfx.control.CheckComboBox?>

<BorderPane prefHeight="582.0" prefWidth="641.0" xmlns="http://javafx.com/javafx/11.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.cig.mctbnc.gui.controllers.Controller">
	<top>
      <AnchorPane prefHeight="429.0" prefWidth="655.0" BorderPane.alignment="CENTER">
         <children>
      		<TabPane maxHeight="-Infinity" maxWidth="-Infinity" minHeight="-Infinity" minWidth="-Infinity" prefHeight="498.0" prefWidth="644.0" tabClosingPolicy="UNAVAILABLE" AnchorPane.bottomAnchor="-70.0" AnchorPane.leftAnchor="1.0" AnchorPane.rightAnchor="-1.0" AnchorPane.topAnchor="1.0">
      			<tabs>
      				<Tab text="Dataset">
      					<content>
                  						<AnchorPane prefHeight="200.0" prefWidth="200.0">
                  							<children>
                              <VBox maxHeight="1.7976931348623157E308" maxWidth="1.7976931348623157E308" prefHeight="369.0" prefWidth="632.0" AnchorPane.bottomAnchor="10.0" AnchorPane.leftAnchor="30.0" AnchorPane.rightAnchor="10.0" AnchorPane.topAnchor="10.0">
                                 <children>
                                    <HBox alignment="CENTER_LEFT" prefHeight="100.0" prefWidth="200.0" spacing="10.0">
                                       <children>
                                          <Label text="Data format:" />
                                          <ComboBox fx:id="cmbDataFormat" onAction="#changeDatasetReader" prefWidth="140.0" />
                                          <Label text="Strategy:" />
                                          <ComboBox fx:id="cmbStrategy" onAction="#changeDatasetReaderStrategy" prefWidth="140.0" />
                                          <Label text="Size sequences:" />
                                          <TextField fx:id="fldSizeSequences" onKeyTyped="#datasetModified" prefHeight="27.0" prefWidth="60.0" />
                                       </children>
                                    </HBox>
                                    <HBox alignment="CENTER_LEFT" prefHeight="106.0" prefWidth="592.0" spacing="20.0">
                                       <children>
                  								<Button mnemonicParsing="false" onAction="#setFolderDataset" prefHeight="27.0" text="Select folder dataset" />
                                          <TextField fx:id="fldPath" editable="false" minWidth="380.0" />
                                       </children>
                                    </HBox>
                                    <GridPane fx:id="gpModel" prefHeight="240.0" prefWidth="604.0" vgap="20.0">
                                       <columnConstraints>
                                          <ColumnConstraints hgrow="SOMETIMES" maxWidth="298.5" minWidth="10.0" prefWidth="154.5" />
                                          <ColumnConstraints hgrow="SOMETIMES" maxWidth="459.0" minWidth="10.0" prefWidth="437.0" />
                                       </columnConstraints>
                                       <rowConstraints>
                                          <RowConstraints minHeight="10.0" vgrow="SOMETIMES" />
                                          <RowConstraints minHeight="10.0" vgrow="SOMETIMES" />
                                          <RowConstraints minHeight="10.0" vgrow="SOMETIMES" />
                                       </rowConstraints>
                                       <children>
                                          <Label text="Select time variable:" />
                                          <ComboBox fx:id="cmbTimeVariable" onAction="#datasetModified" prefWidth="150.0" promptText="Time variable" GridPane.columnIndex="1" />
                                          <Label text="Select class variables:" GridPane.rowIndex="1" />
                                          <CheckComboBox fx:id="ckcmbClassVariables" onMouseClicked="#datasetModified" prefWidth="150.0" title="Class variables" GridPane.columnIndex="1" GridPane.rowIndex="1" />
                                          <Label text="Select features:" GridPane.rowIndex="2" />
                                          <CheckComboBox fx:id="ckcmbFeatures" prefWidth="150.0" title="Features" GridPane.columnIndex="1" GridPane.rowIndex="2" />
                                       </children>
                                    </GridPane>
                                 </children>
                              </VBox>
                  							</children>
                  						</AnchorPane>
      					</content>
      				</Tab>
      				<Tab text="Model">
      					<content>
      						<AnchorPane prefHeight="367.0" prefWidth="548.0">
      							<children>
                              <GridPane layoutX="16.0" layoutY="35.0" prefWidth="604.0" vgap="10.0">
                                 <columnConstraints>
                                    <ColumnConstraints fillWidth="false" halignment="LEFT" hgrow="SOMETIMES" maxWidth="395.0" minWidth="10.0" prefWidth="209.0" />
                                    <ColumnConstraints hgrow="SOMETIMES" maxWidth="407.0" minWidth="10.0" prefWidth="395.0" />
                                 </columnConstraints>
                                 <rowConstraints>
                                    <RowConstraints minHeight="10.0" vgrow="SOMETIMES" />
                                    <RowConstraints minHeight="10.0" vgrow="SOMETIMES" />
                                    <RowConstraints minHeight="10.0" vgrow="SOMETIMES" />
                                    <RowConstraints minHeight="10.0" />
                                    <RowConstraints minHeight="10.0" vgrow="SOMETIMES" />
                                    <RowConstraints minHeight="10.0" vgrow="SOMETIMES" />
                                    <RowConstraints minHeight="10.0" vgrow="SOMETIMES" />
                                    <RowConstraints minHeight="10.0" prefHeight="30.0" vgrow="SOMETIMES" />
                                    <RowConstraints minHeight="10.0" prefHeight="30.0" vgrow="SOMETIMES" />
                                    <RowConstraints minHeight="10.0" vgrow="SOMETIMES" />
                                    <RowConstraints minHeight="10.0" prefHeight="30.0" vgrow="SOMETIMES" />
                                 </rowConstraints>
                                 <children>
                                    <HBox alignment="CENTER" nodeOrientation="LEFT_TO_RIGHT" prefHeight="43.0" prefWidth="399.0" style="-fx-background-color: #e6e6e6#e6e6e6;" GridPane.columnIndex="1" GridPane.rowIndex="5">
                                       <children>
                                          <HBox alignment="CENTER" prefHeight="100.0" prefWidth="200.0" spacing="5.0">
                                             <children>
                                                <Label alignment="CENTER" text="Mxy hyperparameter:" />
                                                <TextField fx:id="fldMxy" prefHeight="27.0" prefWidth="60.0">
                                                   <HBox.margin>
                                                      <Insets />
                                                   </HBox.margin>
                                                </TextField>
                                             </children>
                                             <HBox.margin>
                                                <Insets left="5.0" />
                                             </HBox.margin>
                                          </HBox>
                                          <HBox alignment="CENTER" prefHeight="100.0" prefWidth="200.0" spacing="5.0">
                                             <children>
                                                <Label alignment="CENTER" text="Tx hyperparameter:" />
                                                <TextField fx:id="fldTx" prefHeight="27.0" prefWidth="60.0">
                                                   <HBox.margin>
                                                      <Insets />
                                                   </HBox.margin>
                                                </TextField>
                                             </children>
                                             <HBox.margin>
                                                <Insets right="5.0" />
                                             </HBox.margin>
                                          </HBox>
                                       </children>
                                    </HBox>
            								<ComboBox fx:id="cmbModel" maxWidth="1.7976931348623157E308" onAction="#changeModel" prefHeight="27.0" prefWidth="230.0" GridPane.columnIndex="1" />
            								<Label text="Classification model:" />
            								<Label text="Penalization:" GridPane.rowIndex="9" />
            								<Label text="Structure learning algorithm:" GridPane.rowIndex="6" />
            								<Label text="Parameter learning algorithm CTBN:" GridPane.rowIndex="4" />
            								<ComboBox fx:id="cmbStructure" maxWidth="1.7976931348623157E308" prefHeight="27.0" prefWidth="203.0" GridPane.columnIndex="1" GridPane.rowIndex="6" />
            								<ComboBox fx:id="cmbParameterCTBN" maxWidth="1.7976931348623157E308" onAction="#changeParameterLearningAlgCTBN" prefHeight="27.0" prefWidth="204.0" GridPane.columnIndex="1" GridPane.rowIndex="4" />
            								<ComboBox fx:id="cmbPenalization" maxWidth="1.7976931348623157E308" prefHeight="27.0" prefWidth="201.0" GridPane.columnIndex="1" GridPane.rowIndex="9" />
                                    <TextField fx:id="fldKParents" maxWidth="60.0" GridPane.columnIndex="1" GridPane.rowIndex="1" />
                                    <Label text="Max. K parents:" GridPane.rowIndex="1" />
                                    <Label text="Parameter learning algorithm BN:" GridPane.rowIndex="2" />
                                    <ComboBox fx:id="cmbParameterBN" maxWidth="1.7976931348623157E308" onAction="#changeParameterLearningAlgBN" prefHeight="27.0" prefWidth="204.0" GridPane.columnIndex="1" GridPane.rowIndex="2" />
                                    <HBox alignment="CENTER" prefHeight="36.0" prefWidth="200.0" spacing="5.0" style="-fx-background-color: #e6e6e6#e6e6e6 #e6e6e6#e6e6e6;" GridPane.columnIndex="1" GridPane.halignment="CENTER" GridPane.rowIndex="3" GridPane.valignment="CENTER">
                                       <children>
                                          <Label text="Nx hyperparameter:" />
                                          <TextField fx:id="fldNxBN" prefHeight="27.0" prefWidth="60.0" />
                                       </children>
                                    </HBox>
                                    <Label text="Compute probabilities" GridPane.rowIndex="10" />
                                    <CheckBox fx:id="chkProbabilities" mnemonicParsing="false" GridPane.columnIndex="1" GridPane.rowIndex="10" />
                                    <Label text="Initial structure:" GridPane.rowIndex="7" />
                                    <ComboBox fx:id="cmbInitialStructure" prefHeight="27.0" prefWidth="442.0" GridPane.columnIndex="1" GridPane.rowIndex="7" />
                                    <Label text="Score:" GridPane.rowIndex="8" />
                                    <ComboBox fx:id="cmbScoreFunction" prefHeight="27.0" prefWidth="406.0" GridPane.columnIndex="1" GridPane.rowIndex="8" />
                                 </children>
                              </GridPane>
                              <Accordion layoutX="150.0" layoutY="-26.0" />
      							</children>
      						</AnchorPane>
      					</content>
      				</Tab>
      				<Tab text="Evaluation method">
      					<content>
      						<AnchorPane minHeight="0.0" minWidth="0.0" prefHeight="180.0" prefWidth="200.0">
      							<children>
                              <GridPane layoutY="-1.0" prefHeight="368.0" prefWidth="632.0" vgap="15.0" AnchorPane.bottomAnchor="10.0" AnchorPane.leftAnchor="10.0" AnchorPane.rightAnchor="10.0" AnchorPane.topAnchor="15.0">
                                 <columnConstraints>
                                    <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" />
                                 </columnConstraints>
                                 <rowConstraints>
                                    <RowConstraints maxHeight="128.0" minHeight="10.0" prefHeight="113.0" vgrow="SOMETIMES" />
                                    <RowConstraints maxHeight="303.0" minHeight="10.0" prefHeight="254.0" vgrow="SOMETIMES" />
                                 </rowConstraints>
                                 <children>
                                    <VBox alignment="CENTER" prefHeight="35.0" prefWidth="617.0" style="-fx-border-color: black; -fx-border-radius: 10; -fx-border-width: 0.5;">
                                       <children>
                  								<RadioButton maxHeight="1.7976931348623157E308" maxWidth="1.7976931348623157E308" mnemonicParsing="false" prefHeight="18.0" prefWidth="600.0" selected="true" text="Hold-out validation">
                                             <VBox.margin>
                                                <Insets bottom="10.0" />
                                             </VBox.margin>
                                             <toggleGroup>
                                                <ToggleGroup fx:id="tgValidationMethod" />
                                             </toggleGroup>
                  								</RadioButton>
                  								<RadioButton maxHeight="1.7976931348623157E308" maxWidth="1.7976931348623157E308" mnemonicParsing="false" text="Cross-validation">
                                          </RadioButton>
                                       </children>
                                       <padding>
                                          <Insets left="15.0" />
                                       </padding>
                                    </VBox>
                                    <VBox spacing="20.0" style="-fx-border-color: black; -fx-border-radius: 10; -fx-border-width: 0.5;" GridPane.rowIndex="1">
                                       <children>
                                          <GridPane alignment="CENTER_LEFT" maxHeight="1.7976931348623157E308" maxWidth="1.7976931348623157E308" prefHeight="233.0" prefWidth="610.0">
                                             <columnConstraints>
                                                <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" />
                                             </columnConstraints>
                                             <rowConstraints>
                                                <RowConstraints minHeight="10.0" vgrow="SOMETIMES" />
                                                <RowConstraints minHeight="10.0" vgrow="SOMETIMES" />
                                                <RowConstraints minHeight="10.0" vgrow="SOMETIMES" />
                                             </rowConstraints>
                                             <children>
                                                <CheckBox fx:id="cbShuffle" mnemonicParsing="false" text="Shuffle sequences" />
                                                <HBox alignment="CENTER_LEFT" spacing="5.0" GridPane.rowIndex="1">
                                                   <children>
                              								<Label text="Training size (%):" />
                                                      <Slider fx:id="sldTrainingSize" max="0.9" min="0.1" prefHeight="6.0" prefWidth="140.0" />
                                                      <TextField disable="true" prefHeight="27.0" prefWidth="53.0" text="${sldTrainingSize.value}" />
                                                   </children>
                                                </HBox>
                                                <HBox alignment="CENTER_LEFT" spacing="5.0" GridPane.halignment="CENTER" GridPane.rowIndex="2">
                                                   <children>
                              								<Label text="Number of folds:" />
                              								<TextField fx:id="fldNumFolds" prefHeight="27.0" prefWidth="58.0" />
                                                   </children>
                                                </HBox>
                                             </children>
                                             <VBox.margin>
                                                <Insets left="15.0" />
                                             </VBox.margin>
                                          </GridPane>
                                       </children>
                                    </VBox>
                                 </children>
                              </GridPane>
      							</children>
      						</AnchorPane>
      					</content>
      				</Tab>
      			</tabs>
      		</TabPane>
         </children>
      </AnchorPane>
	</top>
	<bottom>
      <GridPane prefHeight="33.0" prefWidth="570.0">
         <columnConstraints>
            <ColumnConstraints hgrow="SOMETIMES" maxWidth="545.0" minWidth="10.0" prefWidth="528.0" />
            <ColumnConstraints hgrow="SOMETIMES" maxWidth="287.0" minWidth="10.0" prefWidth="97.0" />
         </columnConstraints>
         <rowConstraints>
            <RowConstraints minHeight="10.0" vgrow="SOMETIMES" />
         </rowConstraints>
         <children>
      				<Button fx:id="btnEvaluate" disable="#checkOptions" mnemonicParsing="false" onAction="#evaluate" text="Evaluate" GridPane.columnIndex="1" GridPane.halignment="RIGHT" />
            <Pane prefHeight="200.0" prefWidth="200.0" style="-fx-border-color: black; -fx-border-radius: 10;">
               <children>
                  <Label layoutX="25.0" layoutY="-8.0" style="-fx-background-color: #f4f4f4#f4f4f4;" text="Status" />
                  <Label fx:id="status" layoutX="15.0" layoutY="5.0" prefHeight="26.0" prefWidth="510.0" text="Idle" />
               </children>
            </Pane>
         </children>
         <BorderPane.margin>
            <Insets bottom="10.0" left="15.0" right="15.0" />
         </BorderPane.margin>
      </GridPane>
	</bottom>
</BorderPane>
